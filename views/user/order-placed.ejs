<%- include('../partials/user/header.ejs') %>
    <link rel="stylesheet" href="order-placed-styles.css">

    <div class="order-confirmation-container">
        <h2>Order Placed Successfully!</h2>
        <p>Thank you for your purchase. Your order has been placed and is being processed.</p>

        <div class="order-details">
            <h3>Order Details</h3>
            <ul>
                <li><strong>Order ID:</strong>
                    <%= order.orderId %>
                </li>
                <li><strong>Order Date:</strong>
                    <%= order.invoiceDate.toDateString() %>
                </li>
                <li><strong>Total Price:</strong> &#8377;<%= order.totalPrice.toFixed(2) %>
                </li>
                <li><strong>Payment Method:</strong>
                    <%= order.paymentMethod %>
                </li>

            </ul>
        </div>

        <div class="order-items">
            <h3>Items Ordered</h3>
            <% order.items.forEach(item=> { %>
                <div class="item">
                    <h5>
                        <%= item.product.productName %>
                    </h5>
                    <p>Quantity: <%= item.quantity %>
                    </p>
                    <p>Price: &#8377;<%= item.product.price.toFixed(2) %>
                    </p>
                    <p>Subtotal: &#8377;<%= (item.product.price * item.quantity).toFixed(2) %>
                    </p>
                    <strong>Order Status:</strong>
                    <%= item.status %>
                        </li>
                </div>
                <% }) %>
        </div>

        <div class="delivery-address">
            <h3>Delivery Address</h3>
            <p><strong>Name:</strong>
                <%= order.address[0].name %>
            </p>
            <p> <strong>House Name:</strong>
                <%= order.address[0].houseName %>
            </p>
            <p><strong>Street Name:</strong>
                <%= order.address[0].streetName %>
            </p>
            <p><strong>Landmark:</strong>
                <%= order.address[0].landmark %>
            </p>
            <p><strong>Locality:</strong>
                <%= order.address[0].locality %>
            </p>
            <p><strong>City:</strong>
                <%= order.address[0].city %>
            </p>
            <p><strong>State:</strong>
                <%= order.address[0].state %>
            </p>
            <p></p><strong>PIN:</strong>
            <%= order.address[0].pin %>
                </p>
                <p><strong>Contact No:</strong>
                    <%= order.address[0].contactNo %>
                </p>
        </div>

        <div class="order-actions">
            <a href="/orders" class="btn btn-primary">View My Orders</a>
            <a href="/" class="btn btn-secondary">Continue Shopping</a>
        </div>
    </div>

    <%- include('../partials/user/footer.ejs') %>